#:import sm kivy.uix.screenmanager
ScreenManager:
    id:manager
    transition:sm.FadeTransition(duration=.0)
    MDScreen:
        name:"home"
        md_bg_color:"#F5FCEE"
        MDBottomNavigation:
            id:bnav
            panel_color:"#D0EFB1"
            selected_color_background: "#77A6B6"
            text_color_active: "#4D7298"
            MDBottomNavigationItem:
                name: 'home'
                text: 'Home'
                icon: 'home'
                MDFloatLayout:
                    md_bg_color:"#F5FCEE"
                    orientation:"vertical"
                    Labels:
				        text: "Feeds"
				        halign: "center"
				        font_size:sp("23")
				        pos_hint:{"center_x":.15, "center_y":.94}
				        height: self.texture_size[1]
                        width: self.texture_size[1]
                    HomeCards:
                        md_bg_color:"#E0D97B"
                        pos_hint:{"center_x":.25, "center_y":.7}
                        on_release:
                            app.screen_capture("news")
                        MDFloatLayout:
                            MDIcon:
                                icon:"newspaper"
                                pos_hint:{"center_x":.5, "center_y":.6}
                                font_size:"70sp"
                            MDLabel:
                                halign:"center"
                                text:"News"
                                pos_hint:{"center_x":.5, "center_y":.2}
                                font_size:"21sp"
                    HomeCards:
                        md_bg_color:"#E0D97B"
                        pos_hint:{"center_x":.75, "center_y":.7}
                        on_release:
                            app.screen_capture("image_news")
                            app.add_feeds()
                        MDFloatLayout:
                            MDIcon:
                                icon:"image-filter-hdr"
                                pos_hint:{"center_x":.5, "center_y":.6}
                                font_size:"71sp"
                            MDLabel:
                                halign:"center"
                                text:"Image Feeds"
                                pos_hint:{"center_x":.5, "center_y":.2}
                                font_size:"20sp"
                    HomeCards:
                        md_bg_color:"#E0D97B"
                        pos_hint:{"center_x":.5, "center_y":.4}
                        on_release:
                            app.screen_capture("video_news")
                        MDFloatLayout:
                            MDIcon:
                                icon:"play-outline"
                                pos_hint:{"center_x":.5, "center_y":.6}
                                font_size:"71sp"
                            MDLabel:
                                halign:"center"
                                text:"Video Feeds"
                                pos_hint:{"center_x":.5, "center_y":.2}
                                font_size:"20sp"


            MDBottomNavigationItem:
                name: 'shop'
                text: 'Shop'
                icon: 'cart'
                MDBoxLayout:
                    md_bg_color:"#F5FCEE"
                    orientation:"vertical"
                    ShopTop:
                        pos_hint:{"center_x":.5, "center_y":.9}
		            RecycleView:
	                    id: sellers
	                    key_viewclass: 'viewclass'
	                    key_size: 'height'
	                    RecycleGridLayout:
	                        id:wali
	                        spacing:dp(4)
	                        padding: dp(10)
	                        cols:2
	                        default_size: None, dp(200)
	                        default_size_hint: 1, None
	                        size_hint_y: None
	                        height: self.minimum_height
            MDBottomNavigationItem:
                name: 'dog'
                text: 'Notification'
                icon: 'bell'
                badge_icon:"numeric-4"
                MDFloatLayout:
                    md_bg_color:"#F5FCEE"
                    MDLabel:
				        text: "Notification"
				        halign: "center"
				        font_size:sp("23")
				        pos_hint:{"center_x":.2, "center_y":.94}
            MDBottomNavigationItem:
                name: 'account'
                text: 'Account'
                icon: 'account'
                MDFloatLayout:
                    md_bg_color:"#F5FCEE"
                    MDIconButton:
                        # image-filter-vintage
                        icon:'cog'
                        theme_text_color: "Custom"
                        pos_hint:{'center_x':.9, 'center_y':.95}
                        text_color: 78 / 255, 82 / 255, 84 / 255, 1
                        on_press:
                            app.screen_capture('settings')
			        AsyncImage:
	                    source:"https://storage.googleapis.com/farmzon-abdcb.appspot.com/Letters/A"
	                    pos_hint:{'center_x':.5, 'center_y':.8}
	                    size_hint: None, None
	                    size: "300dp", "300dp"
                    MDLabel:
                        text:"Aqulline Mbuya"
                        pos_hint:{'center_x':.5, 'center_y':.95}
                        halign:'center'
                        font_style:'H6'
                        bold:True
                        font_size:"25sp"
                        font_name:'components/fonts/Gill Sans.otf'
                        theme_text_color: "Custom"
                        text_color: 78/255, 82/255, 84/255, 1
                    MDLabel:
                        text:"aqeglipambuya@gmail.com"
                        pos_hint:{'center_x':.5, 'center_y':.65}
                        halign:'center'
                        bold:True
                        font_name:'components/fonts/Gill Sans.otf'
                        theme_text_color: "Custom"
                        text_color: 78/255, 82/255, 84/255, 1
                    MDLabel:
                        text:"0788204327"
                        pos_hint:{'center_x':.5, 'center_y':.6}
                        halign:'center'
                        bold:True
                        font_name:'components/fonts/Gill Sans.otf'
                        theme_text_color: "Custom"
                        text_color: 78/255, 82/255, 84/255, 1

    MDScreen:
        name:"news"
        MDFloatLayout:
            MDLabel:
                text:"NEWS"
                halign:"center"
    MDScreen:
        name:"image_news"
        MDBoxLayout:
            md_bg_color:"#F5FCEE"
            orientation:"vertical"
            Labels:
		        text: "News Gallery"
		        halign: "center"
		        font_size:sp("23")
		        pos_hint:{"center_x":.2, "center_y":.95}
		        height: self.texture_size[1]
	            width: self.texture_size[1]
            RecycleView:
	            id: feeds
	            key_viewclass: 'viewclass'
	            key_size: 'height'
	            RecycleBoxLayout:
	                id:wali
	                spacing:dp(15)
	                padding: dp(10)
	                default_size: None, dp(350)
	                default_size_hint: 1, None
	                size_hint_y: None
	                height: self.minimum_height
	                orientation:"vertical"

    MDScreen:
        name:"video_news"
        MDFloatLayout:
            MDLabel:
                text:"NEWS"
                halign:"center"

    MDScreen:
        name:'compan'
        MDFloatLayout:
            md_bg_color:"#F5FCEE"
            MDIconButton:
                icon:'chevron-left'
                theme_text_color: "Custom"
                pos_hint:{'center_x':.1, 'center_y':.95}
                text_color: 83 / 255, 186 / 255, 155 / 255, 1
                on_press:
                    app.screen_leave()
            MDLabel:
                text:app.company_name
                pos_hint:{'center_x':.5, 'center_y':.95}
                halign:'center'
                font_style:'H6'
                bold:True
                underline: True
                font_name:'components/fonts/Gill Sans.otf'
                theme_text_color: "Custom"
                text_color: 78/255, 82/255, 84/255, 1
            AsyncImage:
                source:app.company_logo
                pos_hint:{'center_x':.5, 'center_y':.85}
                size_hint: None, None
                size: "200dp", "200dp"
            MDLabel:
                text:app.company_followers
                pos_hint:{'center_x':.5, 'center_y':.75}
                halign:'center'
                bold:True
                font_name:'components/fonts/Gill Sans.otf'
                theme_text_color: "Custom"
                text_color: 78/255, 82/255, 84/255, 1
            MDLabel:
                text:'Loyalties'
                pos_hint:{'center_x':.5, 'center_y':.73}
                halign:'center'
                bold:True
                font_name:'components/fonts/Gill Sans.otf'
                theme_text_color: "Custom"
                text_color: 78/255, 82/255, 84/255, 1

            MDLabel:
                text:app.company_bio
                pos_hint:{'center_x':.5, 'center_y':.58}
                halign:'center'
                font_size: "18sp"
                bold:True
                font_name:'components/fonts/Gill Sans.otf'
                theme_text_color: "Custom"
                text_color: 78/255, 82/255, 84/255, 1
            MDSeparator:
                height: "4dp"
                pos_hint:{'center_x': .5, 'center_y': .48}
            MDLabel:
                text:"Products"
                pos_hint:{'center_x':.5, 'center_y':.51}
                halign:'center'
                font_style:'Subtitle1'
                bold:True
                font_name:'components/fonts/Gill Sans.otf'
                theme_text_color: "Custom"
                text_color: 78/255, 82/255, 84/255, 1
            ScrollView:
                size_hint_y: .5
                pos_hint:{'center_x':.5, 'center_y':.23}
                id:company_scroll
                MDGridLayout:
                    cols: 2
                    adaptive_height: True
                    padding: dp(10), dp(4)
                    spacing: dp(30)
                    id:cproducts
    MDScreen:
        name:'settings'
        FloatLayout:
            MDIconButton:
                icon:'arrow-left'
                pos_hint:{'center_x':.08, "center_y":.95}
                on_release:
                    app.screen_leave()
            Labels:
                halign:'center'
                pos_hint:{'center_x':.23, "center_y":.95}
                text:'Settings'
            OneLineIconListItem:
                text: "About"
                pos_hint:{'center_x':.5, "center_y":.87}
                on_release:
                    app.screen_capture("about")
                IconLeftWidget:
                    icon: "information-outline"
            OneLineIconListItem:
                text: "Help"
                pos_hint:{'center_x':.5, "center_y":.81-0.01}
                on_release:
                    app.screen_capture("help")
                IconLeftWidget:
                    icon: "parachute-outline"
            TwoLineIconListItem:
                text: "Logout"
                secondary_text: "click to logout"
                pos_hint:{'center_x':.5, "center_y":.72}
                on_release:
                    app.clear_user()
                    app.screens.clear()
                    manager.current="genesis"
                    app.on_start()
                IconLeftWidget:
                    icon: "logout"

<ShopTop@MDBoxLayout>:
	adaptive_height:True
	FloatLayout:
	    Labels:
	        text: "Shop"
	        halign: "center"
	        font_size:sp("23")
	        pos_hint:{"center_x":.1, "center_y":.6}
	        height: self.texture_size[1]
	        width: self.texture_size[1]
	    MDIconButton:
	        icon:"magnify"
	        pos_hint:{"center_x":.9, "center_y":.6}
	        icon_size:dp("30")
	        theme_text_color:"Custom"
	        text_color:"#4D7298"

<Details@MDBoxLayout>:
    radius:9
    adaptive_height:True
    height:dp(400)
    md_bg_color:"#E0D97B"
    pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    description: ""
    title:""
    image:""
    FitImage:
        source:root.image
        pos_hint:{"center_x":.5, "center_y":.8}
        #size:dp(300), dp(300)
        size_hint:1, 1.7
        radius: 16, 16, 0, 0
    FloatLayout:
	    MDLabel:
	        text:root.title
	        halign:"left"
	        font_size:"23sp"
	        pos_hint:{"center_x":.55, "center_y":.8}
	    MDLabel:
	        text:root.description
	        halign:"left"
	        font_size:"14sp"
	        pos_hint:{"center_x":.6, "center_y":.6}

<HomeCards@MDCard>:
    radius:9
    adaptive_height:True
    retailer_image:"https://storage.googleapis.com/farmzon-abdcb.appspot.com/Letters/A"
    retailer_name:"Aqulline"
    phone:""
    pos_x: .27
    pos_y: .64
    size:app.size_x/2.5, app.size_y
    size_hint:None, None
    height:dp(app.size_y/5)
    md_bg_color:214/255, 223/255, 232/255, 1
    #pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"

<Retailers@MDCard>:
    radius:9
    adaptive_height:True
    retailer_image:"https://storage.googleapis.com/farmzon-abdcb.appspot.com/Letters/A"
    retailer_name:"Aqulline"
    phone:""
    pos_x: .27
    pos_y: .64
    height:dp(65)
    md_bg_color:214/255, 223/255, 232/255, 1
    #pos_hint:{"center_x":.5,"top":.8}
    orientation:"vertical"
    FloatLayout:
        AsyncImage:
            source:root.retailer_image
            pos_hint:{"center_x":.1, "center_y":.5}
        MDLabel:
            text:root.retailer_name
            halign:"left"
            pos_hint:{"center_x":.6, "center_y":.65}
            padding: 100, 0
            font_size:"15sp"
        MDLabel:
            text:root.phone
            halign:"left"
            pos_hint:{"center_x":.6, "center_y":.4}
            padding: 100, 0
            font_size:"14sp"

<Shops@MDCard>:
    orientation: "vertical"
    md_bg_color: "#4D7298"
    padding: "10dp"
    #spacing: "5dp"
    border_radius: 20
    border_color_a: 0
    radius: [15]
    size_hint: None, None
    size: app.size_x/2, app.size_y/3
    focus_behavior: False
    ripple_behavior: True
    retailer_image:"https://storage.googleapis.com/farmzon-abdcb.appspot.com/Letters/A"
    retailer_name:"Aqulline"
    description:""
    phone:""
    on_release:
        app.get_specific(root.phone)
    FitImage:
        source:root.retailer_image
        pos_hint:{"center_x":.5, "center_y":.5}
    MDLabel:
        text:root.retailer_name
        halign:"left"
        font_size:"20sp"
        pos_hint:{"center_x":.55, "center_y":.5}
        size_hint_y:None
        height:self.texture_size[1]
        width:self.texture_size[1]
    MDLabel:
        text:root.description
        halign:"left"
        pos_hint:{"center_x":.55, "center_y":.5}
        size_hint_y:None
        font_size:"12sp"
        height:self.texture_size[1]
        width:self.texture_size[1]


<Labels@MDLabel>:
    text: "Title"
    theme_text_color: "Custom"
    text_color: 78/255, 82/255, 84/255, 1
    size_hint_y: .15
    height: self.texture_size[1]
